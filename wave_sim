#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
S_0x60c7bb76d8d0 .scope module, "tb_lif_neuron" "tb_lif_neuron" 2 13;
 .timescale -9 -12;
v0x60c7bb793c60_0 .var "clk", 0 0;
v0x60c7bb793d20_0 .var/i "i", 31 0;
v0x60c7bb793de0_0 .var "rst_n", 0 0;
v0x60c7bb793e80_0 .var "spike_in", 0 0;
v0x60c7bb793f20_0 .net "spike_out", 0 0, v0x60c7bb7935c0_0;  1 drivers
v0x60c7bb793fc0_0 .net "v_mem", 7 0, L_0x60c7bb75a070;  1 drivers
S_0x60c7bb76da60 .scope task, "set_spike" "set_spike" 2 51, 2 51 0, S_0x60c7bb76d8d0;
 .timescale -9 -12;
v0x60c7bb75a1d0_0 .var "val", 0 0;
E_0x60c7bb76f360 .event posedge, v0x60c7bb793380_0;
TD_tb_lif_neuron.set_spike ;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %load/vec4 v0x60c7bb75a1d0_0;
    %store/vec4 v0x60c7bb793e80_0, 0, 1;
    %end;
S_0x60c7bb792520 .scope module, "uut" "lif_neuron" 2 33, 3 34 0, S_0x60c7bb76d8d0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "rst_n";
    .port_info 2 /INPUT 1 "spike_in";
    .port_info 3 /OUTPUT 1 "spike_out";
    .port_info 4 /OUTPUT 8 "v_mem";
P_0x60c7bb72d620 .param/l "LEAK" 0 3 36, C4<00000101>;
P_0x60c7bb72d660 .param/l "THRESHOLD" 0 3 35, C4<00111100>;
P_0x60c7bb72d6a0 .param/l "WEIGHT" 0 3 37, C4<00001010>;
L_0x60c7bb75a070 .functor BUFZ 8, v0x60c7bb793ae0_0, C4<00000000>, C4<00000000>, C4<00000000>;
L_0x74f5c5da2018 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x60c7bb75a5c0_0 .net/2u *"_ivl_0", 0 0, L_0x74f5c5da2018;  1 drivers
L_0x74f5c5da20a8 .functor BUFT 1, C4<00000000>, C4<0>, C4<0>, C4<0>;
v0x60c7bb75f880_0 .net/2u *"_ivl_10", 7 0, L_0x74f5c5da20a8;  1 drivers
v0x60c7bb75fbd0_0 .net *"_ivl_13", 7 0, L_0x60c7bb7a4480;  1 drivers
L_0x74f5c5da20f0 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x60c7bb75fe20_0 .net/2u *"_ivl_16", 0 0, L_0x74f5c5da20f0;  1 drivers
v0x60c7bb792990_0 .net *"_ivl_18", 8 0, L_0x60c7bb7a4740;  1 drivers
v0x60c7bb792ac0_0 .net *"_ivl_2", 8 0, L_0x60c7bb7940c0;  1 drivers
L_0x74f5c5da2138 .functor BUFT 1, C4<000001010>, C4<0>, C4<0>, C4<0>;
v0x60c7bb792ba0_0 .net/2u *"_ivl_20", 8 0, L_0x74f5c5da2138;  1 drivers
v0x60c7bb792c80_0 .net *"_ivl_22", 8 0, L_0x60c7bb7a4910;  1 drivers
L_0x74f5c5da2180 .functor BUFT 1, C4<0>, C4<0>, C4<0>, C4<0>;
v0x60c7bb792d60_0 .net/2u *"_ivl_24", 0 0, L_0x74f5c5da2180;  1 drivers
v0x60c7bb792e40_0 .net *"_ivl_26", 8 0, L_0x60c7bb7a4a50;  1 drivers
v0x60c7bb792f20_0 .net *"_ivl_31", 0 0, L_0x60c7bb7a4d20;  1 drivers
L_0x74f5c5da21c8 .functor BUFT 1, C4<11111111>, C4<0>, C4<0>, C4<0>;
v0x60c7bb793000_0 .net/2u *"_ivl_32", 7 0, L_0x74f5c5da21c8;  1 drivers
v0x60c7bb7930e0_0 .net *"_ivl_35", 7 0, L_0x60c7bb7a4e70;  1 drivers
L_0x74f5c5da2060 .functor BUFT 1, C4<000000101>, C4<0>, C4<0>, C4<0>;
v0x60c7bb7931c0_0 .net/2u *"_ivl_4", 8 0, L_0x74f5c5da2060;  1 drivers
v0x60c7bb7932a0_0 .net *"_ivl_9", 0 0, L_0x60c7bb7a4390;  1 drivers
v0x60c7bb793380_0 .net "clk", 0 0, v0x60c7bb793c60_0;  1 drivers
v0x60c7bb793440_0 .net "rst_n", 0 0, v0x60c7bb793de0_0;  1 drivers
v0x60c7bb793500_0 .net "spike_in", 0 0, v0x60c7bb793e80_0;  1 drivers
v0x60c7bb7935c0_0 .var "spike_out", 0 0;
v0x60c7bb793680_0 .net "v_after_leak", 8 0, L_0x60c7bb7a4220;  1 drivers
v0x60c7bb793760_0 .net "v_after_weight", 8 0, L_0x60c7bb7a4b90;  1 drivers
v0x60c7bb793840_0 .net "v_integrated", 7 0, L_0x60c7bb7a4f10;  1 drivers
v0x60c7bb793920_0 .net "v_leak_clamped", 7 0, L_0x60c7bb7a4580;  1 drivers
v0x60c7bb793a00_0 .net "v_mem", 7 0, L_0x60c7bb75a070;  alias, 1 drivers
v0x60c7bb793ae0_0 .var "v_mem_reg", 7 0;
E_0x60c7bb76f6b0/0 .event negedge, v0x60c7bb793440_0;
E_0x60c7bb76f6b0/1 .event posedge, v0x60c7bb793380_0;
E_0x60c7bb76f6b0 .event/or E_0x60c7bb76f6b0/0, E_0x60c7bb76f6b0/1;
L_0x60c7bb7940c0 .concat [ 8 1 0 0], v0x60c7bb793ae0_0, L_0x74f5c5da2018;
L_0x60c7bb7a4220 .arith/sub 9, L_0x60c7bb7940c0, L_0x74f5c5da2060;
L_0x60c7bb7a4390 .part L_0x60c7bb7a4220, 8, 1;
L_0x60c7bb7a4480 .part L_0x60c7bb7a4220, 0, 8;
L_0x60c7bb7a4580 .functor MUXZ 8, L_0x60c7bb7a4480, L_0x74f5c5da20a8, L_0x60c7bb7a4390, C4<>;
L_0x60c7bb7a4740 .concat [ 8 1 0 0], L_0x60c7bb7a4580, L_0x74f5c5da20f0;
L_0x60c7bb7a4910 .arith/sum 9, L_0x60c7bb7a4740, L_0x74f5c5da2138;
L_0x60c7bb7a4a50 .concat [ 8 1 0 0], L_0x60c7bb7a4580, L_0x74f5c5da2180;
L_0x60c7bb7a4b90 .functor MUXZ 9, L_0x60c7bb7a4a50, L_0x60c7bb7a4910, v0x60c7bb793e80_0, C4<>;
L_0x60c7bb7a4d20 .part L_0x60c7bb7a4b90, 8, 1;
L_0x60c7bb7a4e70 .part L_0x60c7bb7a4b90, 0, 8;
L_0x60c7bb7a4f10 .functor MUXZ 8, L_0x60c7bb7a4e70, L_0x74f5c5da21c8, L_0x60c7bb7a4d20, C4<>;
    .scope S_0x60c7bb792520;
T_1 ;
    %wait E_0x60c7bb76f6b0;
    %load/vec4 v0x60c7bb793440_0;
    %nor/r;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.0, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60c7bb793ae0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60c7bb7935c0_0, 0;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0x60c7bb7935c0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.2, 8;
    %pushi/vec4 0, 0, 8;
    %assign/vec4 v0x60c7bb793ae0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60c7bb7935c0_0, 0;
    %jmp T_1.3;
T_1.2 ;
    %load/vec4 v0x60c7bb793840_0;
    %cmpi/u 60, 0, 8;
    %flag_or 5, 4; GT is !LE
    %flag_inv 5;
    %jmp/0xz  T_1.4, 5;
    %load/vec4 v0x60c7bb793840_0;
    %assign/vec4 v0x60c7bb793ae0_0, 0;
    %pushi/vec4 1, 0, 1;
    %assign/vec4 v0x60c7bb7935c0_0, 0;
    %jmp T_1.5;
T_1.4 ;
    %load/vec4 v0x60c7bb793840_0;
    %assign/vec4 v0x60c7bb793ae0_0, 0;
    %pushi/vec4 0, 0, 1;
    %assign/vec4 v0x60c7bb7935c0_0, 0;
T_1.5 ;
T_1.3 ;
T_1.1 ;
    %jmp T_1;
    .thread T_1;
    .scope S_0x60c7bb76d8d0;
T_2 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb793c60_0, 0, 1;
    %end;
    .thread T_2;
    .scope S_0x60c7bb76d8d0;
T_3 ;
    %delay 5000, 0;
    %load/vec4 v0x60c7bb793c60_0;
    %inv;
    %store/vec4 v0x60c7bb793c60_0, 0, 1;
    %jmp T_3;
    .thread T_3;
    .scope S_0x60c7bb76d8d0;
T_4 ;
    %vpi_call 2 66 "$dumpfile", "dump.vcd" {0 0 0};
    %vpi_call 2 67 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x60c7bb76d8d0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb793de0_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb793e80_0, 0, 1;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60c7bb793de0_0, 0, 1;
    %vpi_call 2 84 "$display", "\012[\354\213\234\353\202\230\353\246\254\354\230\244 1] \354\227\260\354\206\215 \354\212\244\355\214\214\354\235\264\355\201\254 30\355\232\214 \354\236\205\353\240\245 (\353\260\234\355\231\224 \354\234\240\353\217\204)" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.0 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 30, 0, 32;
    %jmp/0xz T_4.1, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.0;
T_4.1 ;
    %vpi_call 2 92 "$display", "\012[\354\213\234\353\202\230\353\246\254\354\230\244 2] \354\236\205\353\240\245 \354\244\221\353\213\250 \342\206\222 Leak \352\260\220\354\206\214 \352\264\200\354\260\260" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.2 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 10, 0, 32;
    %jmp/0xz T_4.3, 5;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.2;
T_4.3 ;
    %vpi_call 2 100 "$display", "\012[\354\213\234\353\202\230\353\246\254\354\230\244 3] \354\236\254\354\236\205\353\240\245 \342\206\222 \353\221\220 \353\262\210\354\247\270 \353\260\234\355\231\224 \355\231\225\354\235\270" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.4 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_4.5, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.4;
T_4.5 ;
    %vpi_call 2 108 "$display", "\012[\354\213\234\353\202\230\353\246\254\354\230\244 4] \354\236\205\353\240\245 \354\244\221\353\213\250 \342\206\222 Underflow \353\260\251\354\247\200 \355\231\225\354\235\270" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.6 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 20, 0, 32;
    %jmp/0xz T_4.7, 5;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.6;
T_4.7 ;
    %vpi_call 2 116 "$display", "\012[\354\213\234\353\202\230\353\246\254\354\230\244 5] \353\246\254\354\205\213 \353\217\231\354\236\221 \355\231\225\354\235\270" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.8 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 5, 0, 32;
    %jmp/0xz T_4.9, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.8;
T_4.9 ;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb793de0_0, 0, 1;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %wait E_0x60c7bb76f360;
    %delay 1000, 0;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x60c7bb793de0_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
T_4.10 ;
    %load/vec4 v0x60c7bb793d20_0;
    %cmpi/s 3, 0, 32;
    %jmp/0xz T_4.11, 5;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x60c7bb75a1d0_0, 0, 1;
    %fork TD_tb_lif_neuron.set_spike, S_0x60c7bb76da60;
    %join;
    %load/vec4 v0x60c7bb793d20_0;
    %addi 1, 0, 32;
    %store/vec4 v0x60c7bb793d20_0, 0, 32;
    %jmp T_4.10;
T_4.11 ;
    %delay 20000, 0;
    %vpi_call 2 133 "$display", "\012[\354\213\234\353\256\254\353\240\210\354\235\264\354\205\230 \354\231\204\353\243\214]" {0 0 0};
    %vpi_call 2 134 "$finish" {0 0 0};
    %end;
    .thread T_4;
    .scope S_0x60c7bb76d8d0;
T_5 ;
    %vpi_call 2 141 "$monitor", "Time=%t | Input=%b | Voltage=%3d | Fired?=%b", $time, v0x60c7bb793e80_0, v0x60c7bb793fc0_0, v0x60c7bb793f20_0 {0 0 0};
    %end;
    .thread T_5;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "tb_lif_neuron.v";
    "lif_neuron.v";
